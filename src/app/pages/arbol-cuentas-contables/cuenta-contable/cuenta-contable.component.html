
    <ngx-selector-contable #selectorContable (selectAcount)="setSelectedCount($event)" [account]="prefix" [claseMinima]="cuenta ? cuenta.Nivel - 1: 3">
    </ngx-selector-contable>

    <nb-card class="cuenta-contable" *ngIf="form">
      <nb-card-body>
        <form (ngSubmit)="onSubmit()" [formGroup]="form" class="cuenta-form">
          <mat-grid-list cols="6" rowHeight="68px">

            <mat-grid-tile colspan="5" rowspan="1">
              <mat-form-field class="form-group" appearance="legacy">
                <mat-label>Codigo</mat-label>
                <input type="text" matInput placeholder="Codigo" [formControl]="form.controls['Codigo']">
                <span matPrefix *ngIf="prefix">{{prefix}}-</span>
                <mat-error *ngIf="form.controls['Codigo'].errors">
                    {{form.controls['Codigo'].errors.msg || 'ingrese un dato valido' }}
                </mat-error>
                <mat-hint><strong>Ingrese el c√≥digo consecutivo</strong> </mat-hint>
            </mat-form-field>

            </mat-grid-tile>
            <mat-grid-tile colspan="1" rowspan="1">
              <section class="form-group" appearance="legacy">
                <mat-slide-toggle [formControl]="form.controls['Activo']" [color]="'primary'">Disponible</mat-slide-toggle>
            </section>
            </mat-grid-tile> 

            <mat-grid-tile colspan="6" rowspan="1">
              <mat-form-field class="form-group" appearance="legacy">
                <mat-label>Nombre</mat-label>
                <input type="text" matInput placeholder="Nombre" [formControl]="form.controls['Nombre']">
                <mat-error *ngIf="form.controls['Nombre'].errors">
                    {{form.controls['Nombre'].errors.msg || 'ingrese un dato valido' }}
                </mat-error>
                <mat-hint><strong>Ingrese el nombre de la cuenta</strong> </mat-hint>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile colspan="2" rowspan="1">
              <mat-form-field class="form-group" appearance="legacy">
                <mat-label>Naturaleza</mat-label>
                <mat-select [formControl]="form.controls['NaturalezaCuentaID']">
                  <mat-option *ngFor="let naturaleza of naturalezas" [value]="naturaleza.Id">{{naturaleza.Label}}</mat-option>
                </mat-select>
                <mat-error *ngIf="form.controls['NaturalezaCuentaID'].errors">
                    {{form.controls['NaturalezaCuentaID'].errors.msg || 'ingrese un dato valido' }}
                </mat-error>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile colspan="2" rowspan="1">
              <mat-form-field class="form-group" appearance="legacy">
                <mat-label>Tipo Cuenta</mat-label>
                <mat-select [formControl]="form.controls['TipoCuentaID']">
                  <mat-option *ngFor="let tipo of tipoCuentas" [value]="tipo.Id">{{tipo.Label}}</mat-option>
                </mat-select>
                <mat-error *ngIf="form.controls['TipoCuentaID'].errors">
                    {{form.controls['TipoCuentaID'].errors.msg || 'ingrese un dato valido' }}
                </mat-error>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile colspan="2" rowspan="1">
              <mat-form-field class="form-group" appearance="legacy">
                <mat-label>Detalle</mat-label>
                <mat-select [formControl]="form.controls['DetalleCuentaID']">
                  <mat-option *ngFor="let detalle of detalleCuentas" [value]="detalle.Id">{{detalle.Label}}</mat-option>
                </mat-select>
                <mat-error *ngIf="form.controls['DetalleCuentaID'].errors">
                    {{form.controls['DetalleCuentaID'].errors.msg || 'ingrese un dato valido' }}
                </mat-error>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile colspan="2" rowspan="1">
              <section class="form-group" appearance="legacy">
                <mat-slide-toggle [formControl]="form.controls['RequiereTercero']" [color]="'primary'">Requiere Tercero</mat-slide-toggle>
              </section>
            </mat-grid-tile>

            <mat-grid-tile colspan="2" rowspan="1">
              <section class="form-group" appearance="legacy">
                <mat-slide-toggle [formControl]="form.controls['Ajustable']" [color]="'primary'">Ajustable</mat-slide-toggle>
              </section>
            </mat-grid-tile>

            <mat-grid-tile colspan="2" rowspan="1">
              <section class="form-group" appearance="legacy">
                <mat-slide-toggle [formControl]="form.controls['Nmnc']" [color]="'primary'">NMNC</mat-slide-toggle>
              </section>
            </mat-grid-tile>

            <mat-grid-tile colspan="6" rowspan="1">
              <mat-form-field class="form-group" appearance="legacy">
                <mat-label>Centro De costos</mat-label>
                <mat-select [formControl]="form.controls['CentroDecostosID']">
                  <mat-option *ngFor="let centro of centroCostos" [value]="centro.Id">{{centro.Label}}</mat-option>
                </mat-select>
                <mat-error *ngIf="form.controls['CentroDecostosID'].errors">
                    {{form.controls['CentroDecostosID'].errors.msg || 'ingrese un dato valido' }}
                </mat-error>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile colspan="6" rowspan="1">
              <mat-form-field class="form-group" appearance="legacy">
                <mat-label>Banco</mat-label>
                <input type="text"
                      matInput
                      placeholder="Banco" 
                      [formControl]="form.controls['Banco']"
                      [matAutocomplete]="autoGroup"
                      autocomplete="off">
                  <mat-autocomplete #autoGroup="matAutocomplete" [displayWith]="dislayBanco">
                    <mat-optgroup *ngFor="let group of bancosFilter | async" [label]="group.group">
                      <mat-option *ngFor="let cuenta of group.data" [value]="cuenta">
                        {{cuenta.name}}
                      </mat-option>
                  </mat-optgroup>
                </mat-autocomplete>
                <mat-error *ngIf="form.controls['Banco'].errors">
                    {{form.controls['Banco'].errors.msg || 'ingrese un dato valido' }}
                </mat-error>
              </mat-form-field>

            </mat-grid-tile>

            <mat-grid-tile colspan="6" rowspan="1">
              <mat-form-field class="form-group" appearance="legacy">
                <mat-label>Moneda</mat-label>
                <mat-select [formControl]="form.controls['MonedaID']">
                  <mat-option *ngFor="let moneda of tipoMonedas" [value]="moneda.Id">{{moneda.Label}}</mat-option>
                </mat-select>
                <mat-error *ngIf="form.controls['MonedaID'].errors">
                    {{form.controls['MonedaID'].errors.msg || 'ingrese un dato valido' }}
                </mat-error>
              </mat-form-field>
            </mat-grid-tile>
          </mat-grid-list>
          <button mat-flat-button color="primary" type="submit">Confirmar</button>
        </form>
      </nb-card-body>
    </nb-card>
